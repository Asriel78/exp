Разработайте классы Const, Variable, Add, Subtract, Multiply, Divide для вычисления выражений с одной переменной в типе int (интерфейс Expression). Классы должны позволять составлять выражения вида new Subtract( new Multiply( new Const(2), new Variable("x") ), new Const(3) ).evaluate(5)

При вычислении такого выражения вместо каждой переменной подставляется значение, переданное в качестве аргумента методу evaluate. Таким образом, результатом вычисления приведенного примера должно стать число 7. Метод toString должен выдавать запись выражения в полноскобочной форме. Например new Subtract( new Multiply( new Const(2), new Variable("x") ), new Const(3) ).toString()

должен выдавать ((2 * x) - 3). Сложный вариант. Метод toMiniString (интерфейс ToMiniString) должен выдавать выражение с минимальным числом скобок. Например new Subtract( new Multiply( new Const(2), new Variable("x") ), new Const(3) ).toMiniString()

должен выдавать 2 * x - 3. Реализуйте метод equals, проверяющий, что два выражения совпадают. Например, new Multiply(new Const(2), new Variable("x")) .equals(new Multiply(new Const(2), new Variable("x")))

должно выдавать true, а new Multiply(new Const(2), new Variable("x")) .equals(new Multiply(new Variable("x"), new Const(2)))

должно выдавать false. Для тестирования программы должен быть создан класс Main, который вычисляет значение выражения x2−2x+1, для x, заданного в командной строке. При выполнении задания следует обратить внимание на: Выделение общего интерфейса создаваемых классов. Выделение абстрактного базового класса для бинарных операций.

Реализуйте интерфейс Expression Исходный код тестов Первый аргумент: easy или hard Последующие аргументы: модификации

Дополнительно реализуйте поддержку вычисления выражений в типе BigInteger с позиционными переменными. Конструктор позиционной переменной получает индекс переменной. При выводе позиционная переменная должна иметь вид $index. Метод вычисления выражения должен называться evaluateBi, ему передаётся список значений переменных. Например, для expr = new Subtract(new Add(new Variable(0), new Variable(1)), new Const(BigInteger.ONE)): expr.evaluateBi(List.of(BigInteger.TWO, BigInteger.THREE)) должно быть равно 4; expr.toString() должно быть равно (($0 + $1) - 1).



Доработайте предыдущее домашнее задание так, чтобы выражение строилось по записи вида
$0 * ($0 - 2)*$0 + 1
.
В записи выражения могут встречаться:
бинарные операции: умножение *, деление /, сложение + и вычитание -;
унарный минус -;
переменные $0, $1, ...;
целочисленные константы в десятичной системе счисления, помещающиеся в 32-битный знаковый целочисленный тип;
круглые скобки для явного обозначения приоритета операций;
произвольное число пробельных символов в любом месте, не влияющем на однозначность понимания формулы (например, между операцией и переменной, но не внутри констант).
Приоритет операций, начиная с наивысшего
унарный минус;
умножение и деление;
сложение и вычитание.
Разбор выражений рекомендуется производить методом рекурсивного спуска.
Алгоритм должен работать за линейное время.
Лексический анализ (токенизация) не требуется.

Первый аргумент: easy или hard
Последующие аргументы: модификации
3637. Дополнительно реализуйте:
бинарные операции (минимальный приоритет):
min – минимум, 2 min 3 равно 2;
max – максимум, 2 max 3 равно 3.
унарную операцию reverse – число с переставленными цифрами, reverse -12345 равно -54321.



Задание 14
Разработайте классы Checked*, выполняющие соответствующие операции с проверкой на переполнения и неверные аргументы.
Добавьте в программу, вычисляющую выражения, обработку ошибок, в том числе:
ошибки разбора выражений;
ошибки вычисления выражений.
Для выражения 1000000*x*x*x*x*x/(x-1) вывод программы должен иметь следующий вид:
x       f
0       0
1       division by zero
2       32000000
3       121500000
4       341333333
5       overflow
6       overflow
7       overflow
8       overflow
9       overflow
10      overflow
            
Результат division by zero (overflow) означает, что в процессе вычисления произошло деление на ноль (переполнение).
При выполнении задания следует обратить внимание на дизайн и обработку исключений.
Человеко-читаемые сообщения об ошибках должны выводиться на консоль.
Программа не должна «падать» с исключениями (как стандартными, так и добавленными).